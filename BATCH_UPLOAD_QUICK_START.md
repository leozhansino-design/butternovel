# æ‰¹é‡ä¸Šä¼ åŠŸèƒ½å¿«é€Ÿå…¥é—¨æŒ‡å—

## ğŸ“¦ å®Œæ•´åŠŸèƒ½ä»‹ç»

æ‰¹é‡å°è¯´ä¸Šä¼ åŠŸèƒ½å…è®¸ç®¡ç†å‘˜ä¸€æ¬¡æ€§ä¸Šä¼ æœ€å¤š100æœ¬å°è¯´ï¼Œæ¯æœ¬å°è¯´åŒ…å«ï¼š
- å°é¢å›¾ç‰‡ï¼ˆ300x400åƒç´ ï¼‰
- å®Œæ•´çš„å†…å®¹æ–‡ä»¶ï¼ˆåŒ…å«å…ƒæ•°æ®å’Œæ‰€æœ‰ç« èŠ‚ï¼‰

**ç‰¹æ€§**ï¼š
- âœ… è‡ªåŠ¨æ£€æµ‹ä¹¦åé‡å¤
- âœ… å®æ—¶æ ¼å¼éªŒè¯
- âœ… ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
- âœ… æ”¯æŒæš‚åœ/ç»§ç»­/å–æ¶ˆ
- âœ… Tagsè‡ªåŠ¨åˆ›å»ºå’Œå…³è”
- âœ… è¯¦ç»†çš„é”™è¯¯æŠ¥å‘Š

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3æ­¥ï¼‰

### ç¬¬1æ­¥ï¼šå‡†å¤‡æµ‹è¯•æ–‡ä»¶

åˆ›å»ºæµ‹è¯•æ–‡ä»¶å¤¹ç»“æ„ï¼š

```bash
# åˆ›å»ºæµ‹è¯•ç›®å½•
mkdir -p test-batch-upload/novel1
mkdir -p test-batch-upload/novel2
mkdir -p test-batch-upload/novel3
```

### ç¬¬2æ­¥ï¼šåˆ›å»ºå†…å®¹æ–‡ä»¶

**novel1/content.txt**:
```
Tags: romance, fantasy, magic
Title: The Enchanted Garden
Genre: Romance
Blurb: A magical love story set in an enchanted garden where time stands still. When Emma discovers a hidden portal, she meets Alexander, a gardener trapped between two worlds.

Chapter 1: The Hidden Portal
Emma had always been drawn to the old garden at the end of Maple Street. Today, she finally pushed open the rusty iron gate.

The garden was unlike anything she had imagined. Roses bloomed in impossible colors, and the air shimmered with golden light.

As she walked deeper into the garden, she noticed a stone archway covered in glowing vines. Without thinking, she reached out to touch them.

Suddenly, the world around her shifted, and she found herself in a place both familiar and completely foreign.

Chapter 2: Alexander
A tall figure emerged from behind a massive oak tree. His clothes were old-fashioned, yet somehow timeless.

"Welcome," he said with a gentle smile. "I've been waiting for someone like you."

Emma's heart raced. "Where am I? What is this place?"

"This is the garden between worlds," Alexander explained. "And I am its keeperâ€”or perhaps its prisoner. The distinction has blurred over the centuries."

He gestured to a marble bench beneath a willow tree. "Please, sit. We have much to discuss."

Chapter 3: The Curse
Alexander told her his story. Three hundred years ago, he had been cursed by a jealous witch to tend this garden until someone with a pure heart could break the spell.

"But how do I break it?" Emma asked.

"That," Alexander said softly, "I don't know. The witch never told me."

They spent hours talking, sharing stories of their worlds. Emma felt a connection she had never experienced before.

As the sun began to set in the enchanted garden, Alexander took her hand. "Will you come back tomorrow?"

Emma nodded, already knowing that this was just the beginning of something extraordinary.
```

**novel2/content.txt**:
```
Tags: thriller, mystery, detective
Title: The Last Witness
Genre: Thriller
Blurb: Detective Sarah Chen races against time to protect the only witness to a brutal crime. As the bodies pile up, she realizes the killer is always one step aheadâ€”and may be closer than she thinks.

Chapter 1: The Call
The phone rang at 3 AM, shattering the silence of Sarah's apartment. She knew before answering that this wouldn't be good news.

"Detective Chen," the voice on the other end was urgent. "We have a situation at the Harbor View Hotel. You need to get here now."

Twenty minutes later, Sarah stood in front of room 412, watching the forensics team work. The victim was a federal prosecutor, and the killer had left no trace.

Except for one thingâ€”a terrified hotel maid had seen him leave.

Chapter 2: The Witness
Maria Rodriguez sat in the interview room, her hands shaking as she held a cup of cold coffee.

"Tell me exactly what you saw," Sarah said gently.

"I was cleaning the hallway," Maria whispered. "I saw a man in a dark coat leaving room 412. He looked directly at me."

Sarah's blood ran cold. "Can you describe him?"

"That's the thing, Detective. I saw his face clearly, but..." Maria paused, her voice dropping to barely audible. "But I can't remember it now. It's like my memory was erased."

Chapter 3: The Pattern
Back at the precinct, Sarah pulled up old case files. Three similar murders in the past six months, all involving key witnesses in high-profile cases.

And each witness had died within 48 hours of giving their testimony.

Sarah's partner, Detective Mike Torres, pointed at the timeline. "We have less than two days to figure this out."

"Then we better get started," Sarah said, grabbing her jacket. "Because whoever this killer is, they're about to learn that I don't give up easily."
```

**novel3/content.txt**:
```
Tags: sci-fi, adventure, space-opera
Title: Beyond the Nebula
Genre: Sci-Fi
Blurb: Captain Lisa Morgan leads humanity's first mission beyond the Andromeda Nebula. What they discover will change everything we know about the universeâ€”and our place in it.

Chapter 1: Launch Day
The ISS Pathfinder hummed with activity as the crew prepared for departure. Captain Lisa Morgan stood on the bridge, watching Earth shrink in the viewscreen.

"All systems green, Captain," her first officer reported. "We're cleared for jump."

Lisa took a deep breath. They were about to go farther than any human had ever traveled.

"Engage jump drive," she commanded.

The ship shuddered, reality bent around them, and in an instant, Earth was 2.5 million light-years behind them.

Chapter 2: First Contact
Three days into their exploration, the sensors picked up something impossibleâ€”a structured signal coming from within the nebula.

"It's definitely artificial," the science officer confirmed. "And it's responding to our presence."

As they moved closer, a massive structure emerged from the cosmic dust. It was a space station, ancient but still functional.

And it was not empty.

Chapter 3: The Message
The station's AI greeted them in perfect English, though its last contact with humanity should have been millions of years ago.

"We have been waiting," it said. "Waiting for you to be ready."

Lisa and her crew discovered records of a galactic civilization that had seeded Earth billions of years ago. Humanity wasn't just discovering the universeâ€”they were coming home.

"What do we do now?" her first officer asked.

Lisa looked at the vast archives of knowledge before them. "We learn. And then we decide what kind of civilization we want to become."
```

### ç¬¬3æ­¥ï¼šåˆ›å»ºå°é¢å›¾ç‰‡

ä½ éœ€è¦ä¸ºæ¯æœ¬å°è¯´åˆ›å»º300x400åƒç´ çš„å°é¢å›¾ç‰‡ï¼š

**é€‰é¡¹Aï¼šä½¿ç”¨åœ¨çº¿å·¥å…·**
1. è®¿é—® https://www.canva.com æˆ– https://www.photopea.com
2. åˆ›å»ºæ–°å›¾ç‰‡ï¼Œå°ºå¯¸è®¾ä¸º 300x400 åƒç´ 
3. è®¾è®¡å°é¢ï¼ˆå¯ä»¥ä½¿ç”¨ç®€å•çš„é¢œè‰²+æ–‡å­—ï¼‰
4. å¯¼å‡ºä¸ºJPGæ ¼å¼ï¼Œå‘½åä¸º `cover.jpg`
5. æ”¾å…¥å¯¹åº”çš„å°è¯´æ–‡ä»¶å¤¹

**é€‰é¡¹Bï¼šä½¿ç”¨å‘½ä»¤è¡Œï¼ˆImageMagickï¼‰**
```bash
# å®‰è£…ImageMagickåè¿è¡Œ
convert -size 300x400 xc:#FF6B6B -pointsize 30 -gravity center \
  -annotate +0+0 "The\nEnchanted\nGarden" \
  test-batch-upload/novel1/cover.jpg

convert -size 300x400 xc:#4ECDC4 -pointsize 30 -gravity center \
  -annotate +0+0 "The\nLast\nWitness" \
  test-batch-upload/novel2/cover.jpg

convert -size 300x400 xc:#95E1D3 -pointsize 30 -gravity center \
  -annotate +0+0 "Beyond\nthe\nNebula" \
  test-batch-upload/novel3/cover.jpg
```

**é€‰é¡¹Cï¼šå ä½å›¾ï¼ˆä»…æµ‹è¯•ç”¨ï¼‰**
```bash
# ä»ç½‘ä¸Šä¸‹è½½300x400çš„æµ‹è¯•å›¾ç‰‡
curl -o test-batch-upload/novel1/cover.jpg "https://via.placeholder.com/300x400/FF6B6B/FFFFFF?text=Novel+1"
curl -o test-batch-upload/novel2/cover.jpg "https://via.placeholder.com/300x400/4ECDC4/FFFFFF?text=Novel+2"
curl -o test-batch-upload/novel3/cover.jpg "https://via.placeholder.com/300x400/95E1D3/FFFFFF?text=Novel+3"
```

## ğŸ“‹ ä½¿ç”¨æ­¥éª¤

### 1. è®¿é—®æ‰¹é‡ä¸Šä¼ é¡µé¢
```
http://localhost:3000/admin/batch-upload
```
ï¼ˆæˆ–åœ¨Adminä¾§è¾¹æ ç‚¹å‡» "Batch Upload"ï¼‰

### 2. é€‰æ‹©æ–‡ä»¶å¤¹
- ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶å¤¹"æŒ‰é’®
- é€‰æ‹© `test-batch-upload` æ–‡ä»¶å¤¹
- ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰«æå¹¶éªŒè¯æ‰€æœ‰å­æ–‡ä»¶å¤¹

### 3. æŸ¥çœ‹éªŒè¯ç»“æœ
- âœ… ç»¿è‰²å‹¾ï¼šæ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œå¯ä»¥ä¸Šä¼ 
- âŒ çº¢è‰²å‰ï¼šæœ‰é”™è¯¯ï¼Œéœ€è¦ä¿®å¤
- âš ï¸ é»„è‰²æ„Ÿå¹å·ï¼šæœ‰è­¦å‘Šï¼Œä½†å¯ä»¥ç»§ç»­

### 4. å¼€å§‹ä¸Šä¼ 
- ç‚¹å‡»"å¼€å§‹ä¸Šä¼ "æŒ‰é’®
- ç³»ç»Ÿä¼šä¾æ¬¡ä¸Šä¼ æ¯æœ¬å°è¯´
- å¯ä»¥éšæ—¶ç‚¹å‡»"æš‚åœ"æˆ–"å–æ¶ˆ"

### 5. æŸ¥çœ‹ç»“æœ
- ä¸Šä¼ æˆåŠŸï¼šæ˜¾ç¤ºç»¿è‰²å‹¾å’Œ"æŸ¥çœ‹å°è¯´"é“¾æ¥
- ä¸Šä¼ å¤±è´¥ï¼šæ˜¾ç¤ºçº¢è‰²é”™è¯¯ä¿¡æ¯
- å¯ä»¥ç‚¹å‡»é“¾æ¥æŸ¥çœ‹å·²ä¸Šä¼ çš„å°è¯´

## ğŸ¯ å¸¸è§é—®é¢˜æ’æŸ¥

### å°é¢å°ºå¯¸é”™è¯¯
**é”™è¯¯**: `å°é¢å°ºå¯¸å¿…é¡»æ˜¯300x400ï¼Œå½“å‰ä¸º400x600`

**è§£å†³**:
```bash
# ä½¿ç”¨ImageMagickè°ƒæ•´å°ºå¯¸
convert original-cover.jpg -resize 300x400^ -gravity center -extent 300x400 cover.jpg
```

### content.txtæ ¼å¼é”™è¯¯
**é”™è¯¯**: `ç¬¬1è¡Œå¿…é¡»æ˜¯ "Tags: tag1, tag2, tag3"`

**è§£å†³**: ç¡®ä¿content.txtå‰4è¡Œä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼ï¼š
```
Tags: tag1, tag2
Title: ä¹¦å
Genre: Romance
Blurb: ç®€ä»‹

Chapter 1: ç« èŠ‚æ ‡é¢˜
```

**æ³¨æ„**ï¼š
- æ¯è¡Œå†’å·åé¢å¿…é¡»æœ‰ç©ºæ ¼
- Genreå¿…é¡»æ˜¯æ•°æ®åº“ä¸­å­˜åœ¨çš„åˆ†ç±»ï¼ˆRomance, Fantasy, Mystery, Thriller, Sci-Fi, Horror, Adventure, Historicalç­‰ï¼‰
- ç¬¬4è¡Œåå¿…é¡»æœ‰ä¸€ä¸ªç©ºè¡Œï¼Œç„¶åæ‰æ˜¯Chapter 1

### ä¹¦åé‡å¤
**é”™è¯¯**: `å°è¯´ã€ŠThe Enchanted Gardenã€‹å·²å­˜åœ¨ï¼ˆID: 123ï¼‰`

**è§£å†³**: ä¿®æ”¹titleæˆ–åˆ é™¤æ•°æ®åº“ä¸­çš„é‡å¤å°è¯´

### ç« èŠ‚ç¼–å·ä¸è¿ç»­
**é”™è¯¯**: `ç« èŠ‚ç¼–å·ä¸è¿ç»­ï¼šæœŸæœ›Chapter 2ï¼Œå®é™…ä¸ºChapter 3`

**è§£å†³**: ç¡®ä¿ç« èŠ‚ä»1å¼€å§‹ï¼Œè¿ç»­é€’å¢ï¼Œä¸­é—´ä¸èƒ½è·³å·

## ğŸ“Š æµ‹è¯•æ¸…å•

å®Œæˆä»¥ä¸‹æµ‹è¯•ä»¥ç¡®ä¿åŠŸèƒ½æ­£å¸¸ï¼š

- [ ] ä¸Šä¼ å•æœ¬å°è¯´
- [ ] ä¸Šä¼ 3æœ¬å°è¯´
- [ ] æµ‹è¯•æš‚åœåŠŸèƒ½ï¼ˆä¸Šä¼ åˆ°ç¬¬2æœ¬æ—¶ç‚¹å‡»æš‚åœï¼‰
- [ ] æµ‹è¯•ç»§ç»­åŠŸèƒ½ï¼ˆæš‚åœåç‚¹å‡»ç»§ç»­ï¼‰
- [ ] æµ‹è¯•å–æ¶ˆåŠŸèƒ½
- [ ] æ•…æ„ä¸Šä¼ é”™è¯¯å°ºå¯¸çš„å°é¢ï¼ˆéªŒè¯åº”è¯¥æ‹¦æˆªï¼‰
- [ ] æ•…æ„ä½¿ç”¨é”™è¯¯çš„content.txtæ ¼å¼ï¼ˆéªŒè¯åº”è¯¥æ‹¦æˆªï¼‰
- [ ] ä¸Šä¼ é‡å¤ä¹¦åçš„å°è¯´ï¼ˆåº”è¯¥æ˜¾ç¤º409é”™è¯¯ï¼‰
- [ ] æ£€æŸ¥æ•°æ®åº“ï¼šå°è¯´ã€ç« èŠ‚ã€tagsæ˜¯å¦æ­£ç¡®åˆ›å»º
- [ ] è®¿é—®å·²ä¸Šä¼ çš„å°è¯´é¡µé¢ï¼Œç¡®è®¤æ˜¾ç¤ºæ­£å¸¸

## ğŸ”§ æ•…éšœæ’é™¤

### ä¸Šä¼ å¡ä½ä¸åŠ¨
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. æ£€æŸ¥Cloudinaryç¯å¢ƒå˜é‡é…ç½®
3. æ£€æŸ¥æ•°æ®åº“è¿æ¥

### Cloudinaryä¸Šä¼ å¤±è´¥
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $CLOUDINARY_CLOUD_NAME
echo $CLOUDINARY_API_KEY
echo $CLOUDINARY_API_SECRET
```

### æ•°æ®åº“é”™è¯¯
```bash
# æ£€æŸ¥Prismaè¿ç§»çŠ¶æ€
npx prisma migrate status

# å¦‚æœæœ‰å¾…æ‰§è¡Œçš„è¿ç§»
npx prisma migrate deploy
```

## ğŸ“ content.txt å®Œæ•´è§„èŒƒ

```
Tags: tag1, tag2, tag3               # å¿…éœ€ï¼Œé€—å·åˆ†éš”ï¼Œæœ€å¤š20ä¸ª
Title: å°è¯´æ ‡é¢˜                       # å¿…éœ€ï¼Œ2-200å­—ç¬¦
Genre: Romance                       # å¿…éœ€ï¼Œå¿…é¡»æ˜¯æœ‰æ•ˆåˆ†ç±»
Blurb: å°è¯´ç®€ä»‹æ–‡å­—...                # å¿…éœ€ï¼Œ10-1000å­—ç¬¦
                                     # ç©ºè¡Œï¼ˆå¿…éœ€ï¼‰
Chapter 1: ç¬¬ä¸€ç« æ ‡é¢˜                # å¿…éœ€ï¼Œæ ¼å¼: Chapter [æ•°å­—]: æ ‡é¢˜
ç¬¬ä¸€ç« æ­£æ–‡å†…å®¹...                     # å¿…éœ€ï¼Œè‡³å°‘10å­—ç¬¦
                                     # ç©ºè¡Œï¼ˆå¯é€‰ï¼‰
Chapter 2: ç¬¬äºŒç« æ ‡é¢˜
ç¬¬äºŒç« æ­£æ–‡å†…å®¹...
```

**å­—æ®µè¯´æ˜**ï¼š
- **Tags**: å°å†™å­—æ¯ã€æ•°å­—ã€è¿å­—ç¬¦ï¼Œç©ºæ ¼ä¼šè¢«è½¬ä¸ºè¿å­—ç¬¦
- **Title**: ç”¨äºæ˜¾ç¤ºå’ŒURLç”Ÿæˆ
- **Genre**: Romance, Fantasy, Mystery, Thriller, Sci-Fi, Horror, Adventure, Historical, Action, Contemporary
- **Blurb**: å°è¯´ç®€ä»‹ï¼Œæ”¯æŒå¤šè¡Œ
- **Chapter**: å¿…é¡»ä»1å¼€å§‹è¿ç»­ç¼–å·

## ğŸ‰ æˆåŠŸåçš„æ£€æŸ¥

ä¸Šä¼ å®Œæˆåï¼Œè¯·æ£€æŸ¥ï¼š

1. **æ•°æ®åº“**:
   ```sql
   SELECT id, title, slug, status, "totalChapters" FROM "Novel" WHERE title LIKE '%Enchanted%';
   SELECT COUNT(*) FROM "Chapter" WHERE "novelId" = [novel_id];
   SELECT * FROM "Tag" WHERE name IN ('romance', 'fantasy', 'magic');
   ```

2. **å‰ç«¯é¡µé¢**:
   - è®¿é—® `/novels/the-enchanted-garden`
   - æ£€æŸ¥å°é¢æ˜¯å¦æ˜¾ç¤º
   - æ£€æŸ¥tagsæ˜¯å¦æ­£ç¡®
   - ç‚¹å‡»ç¬¬ä¸€ç« ï¼Œæ£€æŸ¥å†…å®¹æ˜¯å¦æ­£ç¡®

3. **TagsåŠŸèƒ½**:
   - è®¿é—® `/tags/romance`
   - ç¡®è®¤æ–°ä¸Šä¼ çš„å°è¯´å‡ºç°åœ¨åˆ—è¡¨ä¸­

---

**ç°åœ¨å¯ä»¥å¼€å§‹æµ‹è¯•æ‰¹é‡ä¸Šä¼ åŠŸèƒ½äº†ï¼** ğŸš€

æœ‰é—®é¢˜è¯·å‚è€ƒ `BATCH_UPLOAD_IMPLEMENTATION.md` è·å–æŠ€æœ¯ç»†èŠ‚ã€‚
