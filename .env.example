# ButterNovel 环境变量配置
# 复制此文件为 .env 并填入真实值

# ==================================
# 网站配置
# ==================================
# 网站 URL（用于 SEO、Open Graph、Sitemap）
# 本地开发
NEXT_PUBLIC_SITE_URL="http://localhost:3000"
# 生产环境改为: https://your-domain.com

# ==================================
# 数据库配置 (Vercel Postgres)
# ==================================
# 从 Vercel Dashboard -> Storage -> Postgres -> .env.local 标签页复制
# 格式: postgres://username:password@host:port/database?sslmode=require
DATABASE_URL="postgresql://..."

# ==================================
# NextAuth.js 配置
# ==================================
# 生成随机密钥: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-key-here"

# 本地开发
NEXTAUTH_URL="http://localhost:3000"
# 生产环境改为: https://your-domain.com

# ==================================
# Google OAuth (用于社交登录)
# ==================================
# 从 Google Cloud Console 获取
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ==================================
# Cloudinary (图片存储)
# ==================================
# 从 Cloudinary Dashboard 获取
# https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# ==================================
# Sentry 错误追踪 (可选)
# ==================================
# 从 Sentry Dashboard 获取
# https://sentry.io/
# 仅在生产环境启用，开发环境自动禁用
NEXT_PUBLIC_SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_ORG="your-org-name"
SENTRY_PROJECT="your-project-name"
# Sentry Auth Token（用于上传 source maps）
SENTRY_AUTH_TOKEN="your-auth-token"

# ==================================
# 管理员配置
# ==================================
# 用于管理员后台 JWT 认证
# 生成随机密钥: openssl rand -base64 32
ADMIN_JWT_SECRET="your-admin-jwt-secret"

# ==================================
# Redis 缓存配置 (可选 - Upstash Redis)
# ==================================
# Redis 用于缓存首页、小说详情、用户书架等数据
# 如果不配置，系统会自动降级到直接使用数据库（不影响功能）
#
# 推荐使用 Upstash Redis (免费层):
#   1. 访问 https://upstash.com/ 注册
#   2. 创建 Redis 数据库
#   3. 复制 REST API URL 和 Token
#
# 注意：使用 Upstash REST API，无需 Docker 或本地 Redis

UPSTASH_REDIS_REST_URL="https://your-redis.upstash.io"  # Upstash REST API URL
UPSTASH_REDIS_REST_TOKEN="your-token-here"               # Upstash REST API Token

# ==================================
# Cloudflare Turnstile (防机器人验证)
# ==================================
# 从 Cloudflare Dashboard 获取
# https://dash.cloudflare.com/ -> Turnstile
#
# Site Key (公开，前端使用)
NEXT_PUBLIC_TURNSTILE_SITE_KEY="your-turnstile-site-key"
# Secret Key (私密，仅后端使用)
TURNSTILE_SECRET_KEY="your-turnstile-secret-key"

# 测试环境跳过 Turnstile 验证 (可选)
# SKIP_TURNSTILE_IN_TEST="true"
